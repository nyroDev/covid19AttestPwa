!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,a,o,i,s,c,u,l,d,f,p,v,m,h,g,b,x,w,y,S,C,E,N;n(1),n(5);s=window.localStorage.getItem("attestation"),c={lastname:"text",firstname:"text",date:"date",place:"text",address:"text",zipcode:"number",city:"text"},u={lastname:"Nom",firstname:"Prénom",date:"Date de naissance",place:"Lieu de naissance",address:"Adresse",zipcode:"Code postal",city:"Ville",dateSortie:"Date de sortie"},l="Cree le",d="Nom",f="Prenom",p="Naissance",v="a",m="Adresse",h="Sortie",g="Motifs",b={travail:"Déplacements entre le domicile et le lieu d’exercice de l’activité professionnelle, lorsqu’ils sont indispensables à l’exercice d’activités ne pouvant être organisées sous forme de télétravail ou déplacements professionnels ne pouvant être différés",proAchat:"Déplacements pour effectuer des achats de fournitures nécessaires à l’activité professionnelle et des achats de première nécessité3 dans des établissements dont les activités demeurent autorisées (liste sur gouvernement.fr).",medical:"Consultations et soins ne pouvant être assurés à distance et ne pouvant être différés ; consultations et soins des patients atteints d'une affection de longue durée.",famille:"Déplacements pour motif familial impérieux, pour l’assistance aux personnes vulnérables ou la garde d’enfants.",sport:"Déplacements brefs, dans la limite d'une heure quotidienne et dans un rayon maximal d'un kilomètre autour du domicile, liés soit à l'activité physique individuelle des personnes, à l'exclusion de toute pratique sportive collective et de toute proximité avec d'autres personnes, soit à la promenade avec les seules personnes regroupées dans un même domicile, soit aux besoins des animaux de compagnie.",judiciaire:"Convocation judiciaire ou administrative.",general:"Participation à des missions d’intérêt général sur demande de l’autorité administrative."},x=function(e){document.body.removeAttribute("class"),document.body.classList.add(e),r=e},w=function(e,t){var n=e.getFullYear()+"-"+(1+e.getMonth()+"").padStart(2,"0")+"-"+(e.getDate()+"").padStart(2,"0");return t||(n+="T"+(e.getHours()+"").padStart(2,"0")+":"+(e.getMinutes()+"").padStart(2,"0")),n},y=function(e,t,n,r,a){var o=document.createElement("div");o.classList.add("form_row");var i=document.createElement("label");i.setAttribute("for",t),i.innerText=r,o.appendChild(i);var s=document.createElement("input");s.name=t,s.type=n,s.id=t,s.required=!0,s.innerText=s,"number"==n&&(s.maxlength=5),a&&(a instanceof Date&&("date"==n?a=w(a,!0):"datetime"==n&&(a=w(a))),s.value=a),o.appendChild(s),e.appendChild(o)},S=function(){if(x("fields"),!a){(a=document.createElement("form")).action="#",a.method="post",Object.keys(c).forEach((function(e){y(a,e,c[e],u[e],s[e])}));var e=document.createElement("button");e.type="submit",e.innerText="Enregistrer",a.appendChild(e),document.body.appendChild(a),a.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(a);for(var n of(s={},t.entries()))s[n[0]]=n[1];window.localStorage.setItem("attestation",JSON.stringify(s)),a.classList.add("hide"),C()}))}a.classList.remove("hide")},C=function(){if(x("reasons"),!o){(o=document.createElement("form")).action="#",o.method="post",y(o,"dateSortie","datetime-local",u.dateSortie,s.dateSortie);var e=document.createElement("div");e.classList.add("form_row");var t=document.createElement("label");t.innerText="Raisons",e.appendChild(t);var n=document.createElement("ul");Object.keys(b).forEach((function(e){var t=document.createElement("li"),r=document.createElement("input");r.name="reasons",r.type="checkbox",r.value=e,r.id=e,s.reasons&&-1!=s.reasons.indexOf(e)&&(r.checked=!0),t.appendChild(r);var a=document.createElement("label");a.setAttribute("for",e),a.innerText=b[e],t.appendChild(a),n.appendChild(t)})),e.appendChild(n),o.appendChild(e);var r=document.createElement("button");r.type="submit",r.innerText="Générer",o.appendChild(r),document.body.appendChild(o),o.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(o);for(var n of(s.reasons=[],t.entries()))"reasons"==n[0]?s[n[0]].push(n[1]):s[n[0]]=n[1];window.localStorage.setItem("attestation",JSON.stringify(s)),o.classList.add("hide"),N()}))}o.classList.remove("hide")},E=function(e,t){var n=(e.getDate()+"").padStart(2,"0")+"/"+(1+e.getMonth()+"").padStart(2,"0")+"/"+e.getFullYear();return t||(n+=" a "+(e.getHours()+"").padStart(2,"0")+"h"+(e.getMinutes()+"").padStart(2,"0")),n},N=function(){x("qr"),s.now=new Date,(i=document.createElement("div")).classList.add("qr");var e=QRCode.generateSVG(function(){const e=[];return s.date=new Date(s.date),s.dateSortie=new Date(s.dateSortie),e.push(l+": "+E(s.now)),e.push(d+": "+s.lastname),e.push(f+": "+s.firstname),e.push(p+": "+E(s.date,!0)+" "+v+" "+s.place),e.push(m+": "+s.address+" "+s.zipcode+" "+s.city),e.push(h+": "+E(s.dateSortie)),e.push(g+": "+s.reasons.join(", ")),e.join("; ")}(),{ecclevel:"M",fillcolor:"#FFFFFF",textcolor:"#373737",margin:1,modulesize:8});i.appendChild(e),document.body.appendChild(i)},document.getElementById("back").addEventListener("click",(function(e){switch(e.preventDefault(),r){case"qr":i.parentNode.removeChild(i),C();break;case"reasons":o.classList.add("hide"),S()}})),s?(s=JSON.parse(s),C()):(s={dateSortie:new Date},S()),"serviceWorker"in navigator&&document.body.dataset.sw&&window.addEventListener("load",()=>{navigator.serviceWorker.register(document.body.dataset.sw).then(e=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.addEventListener("message",e=>{console.warn(e.data)})},e=>{console.log("ServiceWorker registration failed: ",e)})}),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault();var t=e;const n=document.createElement("a");n.href="#",n.className="installBut",n.innerText="Installer",n.addEventListener("click",(function(e){t.prompt(),t.userChoice.then((function(e){console.log(e.outcome),"dismissed"==e.outcome?console.log("User cancelled home screen install"):console.log("User added to home screen"),n.parentNode.removeChild(n),t=null}))})),document.body.appendChild(n)}))},function(e,t,n){var r=n(2),a=n(3);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function s(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],a=0;a<e.length;a++){var o=e[a],c=t.base?o[0]+t.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=s(l),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:l,updater:h(f,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,m=0;function h(e,t){var n,r,a;if(t.singleton){var o=m++;n=v||(v=u(t)),r=f.bind(null,n,o,!1),a=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=s(n[r]);i[a].references--}for(var o=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=o}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,'body {\n    background: #ddd;\n    font-size: 16px;\n    margin: 0 0 50px;\n    padding: 10px;\n}\n\nheader {\n    margin: -10px -10px 10px;\n    padding: 10px;\n    background: #333;\n}\n\nheader strong {\n    color: #fff;\n}\n\nheader a {\n    position: relative;\n    display: inline-block;\n    background: #fff;\n    color: #000;\n    text-decoration: none;\n    padding: 3px 7px;\n    margin: 0 15px;\n}\n\nheader a:before {\n    right: 100%;\n    top: 50%;\n    border: solid transparent;\n    content: \'\';\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n    border-color: rgba(188, 213, 183, 0);\n    border-right-color: #fff;\n    border-width: 12px;\n    margin-top: -12px;\n}\n\n.fields header a {\n    display: none;\n}\n\n.hide {\n    display: none;\n}\n\nlabel {\n    width: 100%;\n}\n\ninput[type="text"],\ninput[type="date"],\ninput[type="number"],\ninput[type="datetime-local"] {\n    display: block;\n    border: 1px solid #333;\n    padding: 5px 10px;\n    width: 100%;\n    font-size: 16px;\n    box-sizing: border-box;\n}\n\ninput[type="number"] {\n    width: 5em;\n}\n\ninput[type="date"] {\n    width: 10em;\n}\n\ninput[type="datetime-local"] {\n    width: 14em;\n}\n\nbutton {\n    font-size: 16px;\n    color: #fff;\n    background: #333;\n    border: 1px solid #333;\n    padding: 5px 10px;\n}\n\n.form_row {\n    margin-bottom: 5px;\n}\n\nul {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\ninput[type="radio"]:checked+label {\n    font-weight: bold;\n}\n\n.installBut {\n    display: block;\n    position: fixed;\n    bottom: 10px;\n    background: #333;\n    color: #fff;\n    padding: 10px 0;\n    text-decoration: none;\n    width: 80px;\n    text-align: center;\n    left: calc(50vw - 40px);\n    box-shadow: 0 0 20px blue;\n}',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(i=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([a]).join("\n")}var i,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t){
/*!
 * modified qr.js -- QR code generator in Javascript (revision 2011-01-19)
 * Written by Kang Seonghoon <public+qrjs@mearie.org>.
 * v0.0.20110119
 * This source code is in the public domain; if your jurisdiction does not
 * recognize the public domain the terms of Creative Commons CC0 license
 * apply. In the other words, you can always do what you want.
 * added options properties: fillcolor and textcolor
 * svg now works in Edge 13 and IE 11
 * @see {@link https://gist.github.com/englishextra/b46969e3382ef737c611bb59d837220b}
 * @see {@link https://github.com/lifthrasiir/qr.js/blob/v0.0.20110119/qr.js}
 * passes jshint with suppressing comments
 */
!function(e,t){"use strict";for(var n="length",r=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],a=/^\d*$/,o=/^[A-Za-z0-9 $%*+\-./:] * $ /,i=/^[A-Z0-9 $%*+\-./:] * $ /,s=[],c=[-1],u=0,l=1;u<255;++u)s.push(l),c[l]=u,l=2*l^(l>=128?285:0);for(var d=[[]],f=0;f<30;++f){for(var p=d[f],v=[],m=0;m<=f;++m){var h=m<f?s[p[m]]:0,g=s[(f+(p[m-1]||0))%255];v.push(c[h^g])}d.push(v)}for(var b={},x=0;x<45;++x)b["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(x)]=x;var w=[function(e,t){return(e+t)%2==0},function(e){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}],y=function(e){return e>6},S=function(e,t){var a=-8&function(e){var t=r[e],a=16*e*e+128*e+64;return y(e)&&(a-=36),t[2][n]&&(a-=25*t[2][n]*t[2][n]-10*t[2][n]-55),a}(e),o=r[e];return a-=8*o[0][t]*o[1][t]},C=function(e,t){switch(t){case 1:return e<10?10:e<27?12:14;case 2:return e<10?9:e<27?11:13;case 4:return e<10?8:16;case 8:return e<10?8:e<27?10:12}},E=function(e,t,n){var r=S(e,n)-4-C(e,t);switch(t){case 1:return 3*(r/10|0)+(r%10<4?0:r%10<7?1:2);case 2:return 2*(r/11|0)+(r%11<6?0:1);case 4:return r/8|0;case 8:return r/13|0}},N=function(e,t){for(var r=e.slice(0),a=e[n],o=t[n],i=0;i<o;++i)r.push(0);for(var u=0;u<a;){var l=c[r[u++]];if(l>=0)for(var d=0;d<o;++d)r[u+d]^=s[(l+t[d])%255]}return r.slice(a)},F=function(e,t,n,r){for(var a=e<<r,o=t-1;o>=0;--o)a>>r+o&1&&(a^=n<<o);return e<<r|a},k=function(e,t,r){for(var a=w[r],o=e[n],i=0;i<o;++i)for(var s=0;s<o;++s)t[i][s]||(e[i][s]^=a(i,s));return e},M=function(e,t,r,a){for(var o=e[n],i=21522^F(r<<3|a,5,1335,10),s=0;s<15;++s){var c=[o-1,o-2,o-3,o-4,o-5,o-6,o-7,o-8,7,5,4,3,2,1,0][s];e[[0,1,2,3,4,5,7,8,o-7,o-6,o-5,o-4,o-3,o-2,o-1][s]][8]=e[8][c]=i>>s&1}return e},L=function(e){for(var t=function(e){for(var t=0,r=0;r<e[n];++r)e[r]>=5&&(t+=e[r]-5+3);for(var a=5;a<e[n];a+=2){var o=e[a];e[a-1]===o&&e[a-2]===3*o&&e[a-3]===o&&e[a-4]===o&&(e[a-5]>=4*o||e[a+1]>=4*o)&&(t+=40)}return t},r=e[n],a=0,o=0,i=0;i<r;++i){var s,c=e[i];s=[0];for(var u=0;u<r;){var l;for(l=0;u<r&&c[u];++l)++u;for(s.push(l),l=0;u<r&&!c[u];++l)++u;s.push(l)}a+=t(s),s=[0];for(var d=0;d<r;){var f;for(f=0;d<r&&e[d][i];++f)++d;for(s.push(f),f=0;d<r&&!e[d][i];++f)++d;s.push(f)}a+=t(s);var p=e[i+1]||[];o+=c[0];for(var v=1;v<r;++v){var m=c[v];o+=m,c[v-1]===m&&p[v]===m&&p[v-1]===m&&(a+=3)}}return a+=10*(Math.abs(o/r/r-.5)/.05|0)},A=function(e,t,a,o,i){var s=r[t],c=function(e,t,r,a){var o=[],i=0,s=8,c=r[n],u=function(e,t){if(t>=s){for(o.push(i|e>>(t-=s));t>=8;)o.push(e>>(t-=8)&255);i=0,s=8}t>0&&(i|=(e&(1<<t)-1)<<(s-=t))},l=C(e,t);switch(u(t,4),u(c,l),t){case 1:for(var d=2;d<c;d+=3)u(parseInt(r.substring(d-2,d+1),10),10);u(parseInt(r.substring(d-2),10),[0,4,7][c%3]);break;case 2:for(var f=1;f<c;f+=2)u(45*b[r.charAt(f-1)]+b[r.charAt(f)],11);c%2==1&&u(b[r.charAt(f-1)],6);break;case 4:for(var p=0;p<c;++p)u(r[p],8)}for(u(0,4),s<8&&o.push(i);o[n]+1<a;)o.push(236,17);return o[n]<a&&o.push(236),o}(t,a,e,S(t,o)>>3);c=function(e,t,r){for(var a=[],o=e[n]/t|0,i=0,s=t-e[n]%t,c=0;c<s;++c)a.push(i),i+=o;for(var u=s;u<t;++u)a.push(i),i+=o+1;a.push(i);for(var l=[],d=0;d<t;++d)l.push(N(e.slice(a[d],a[d+1]),r));for(var f=[],p=e[n]/t|0,v=0;v<p;++v)for(var m=0;m<t;++m)f.push(e[a[m]+v]);for(var h=s;h<t;++h)f.push(e[a[h+1]-1]);for(var g=0;g<r[n];++g)for(var b=0;b<t;++b)f.push(l[b][g]);return f}(c,s[1][o],d[s[0][o]]);var u=function(e){for(var t=r[e],a=function(e){return 4*e+17}(e),o=[],i=[],s=0;s<a;++s)o.push([]),i.push([]);var c=function(e,t,n,r,a){for(var s=0;s<n;++s)for(var c=0;c<r;++c)o[e+s][t+c]=a[s]>>c&1,i[e+s][t+c]=1};c(0,0,9,9,[127,65,93,93,93,65,383,0,64]),c(a-8,0,8,9,[256,127,65,93,93,93,65,127]),c(0,a-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var u=9;u<a-8;++u)o[6][u]=o[u][6]=1&~u,i[6][u]=i[u][6]=1;for(var l=t[2],d=l[n],f=0;f<d;++f)for(var p=0===f?d-1:d,v=0===f||f===d-1?1:0;v<p;++v)c(l[f],l[v],5,5,[31,17,21,17,31]);if(y(e))for(var m=F(e,6,7973,12),h=0,g=0;g<6;++g)for(var b=0;b<3;++b)o[g][a-11+b]=o[a-11+b][g]=m>>h++&1,i[g][a-11+b]=i[a-11+b][g]=1;return{matrix:o,reserved:i}}(t),l=u.matrix,f=u.reserved;if(function(e,t,r){for(var a=e[n],o=0,i=-1,s=a-1;s>=0;s-=2){6===s&&--s;for(var c=i<0?a-1:0,u=0;u<a;++u){for(var l=s;l>s-2;--l)t[c][l]||(e[c][l]=r[o>>3]>>(7&~o)&1,++o);c+=i}i=-i}}(l,f,c),i<0){k(l,f,0),M(l,0,o,0);var p=0,v=L(l);for(k(l,f,0),i=1;i<8;++i){k(l,f,i),M(l,0,o,i);var m=L(l);v>m&&(v=m,p=i),k(l,f,i)}i=p}return k(l,f,i),M(l,0,o,i),l},D={generate:function(e,t){var r=t||{},s={numeric:1,alphanumeric:2,octet:4},c={L:1,M:0,Q:3,H:2},u=r.version||-1,l=c[(r.ecclevel||"L").toUpperCase()],d=r.mode?s[r.mode.toLowerCase()]:-1,f="mask"in r?r.mask:-1;if(d<0)d="string"==typeof e?e.match(a)?1:e.match(i)?2:4:4;else if(1!==d&&2!==d&&4!==d)throw"invalid or unsupported mode";if(null===(e=function(e,t){switch(e){case 1:return t.match(a)?t:null;case 2:return t.match(o)?t.toUpperCase():null;case 4:if("string"==typeof t){for(var r=[],i=0;i<t[n];++i){var s=t.charCodeAt(i);s<128?r.push(s):s<2048?r.push(192|s>>6,128|63&s):s<65536?r.push(224|s>>12,128|s>>6&63,128|63&s):r.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}return r}return t}}(d,e)))throw"invalid data format";if(l<0||l>3)throw"invalid ECC level";if(u<0){for(u=1;u<=40&&!(e[n]<=E(u,d,l));++u);if(u>40)throw"too large data"}else if(u<1||u>40)throw"invalid version";if(-1!==f&&(f<0||f>8))throw"invalid mask";return A(e,u,d,l,f)},generateHTML:function(e,r){for(var a=r||{},o=a.fillcolor?a.fillcolor:"#FFFFFF",i=a.textcolor?a.textcolor:"#000000",s=D.generate(e,a),c=Math.max(a.modulesize||5,.5),u=Math.max(null!==a.margin?a.margin:4,0),l=t.createElement("div"),d=s[n],f=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+c*u+"px solid "+o+";background:"+o+'">'],p=0;p<d;++p){f.push("<tr>");for(var v=0;v<d;++v)f.push('<td style="width:'+c+"px;height:"+c+"px"+(s[p][v]?";background:"+i:"")+'"></td>');f.push("</tr>")}l.className="qrcode";var m=t.createRange();m.selectNodeContents(l);var h=m.createContextualFragment(f.join("")+"</table>");return l.appendChild(h),l},generateSVG:function(e,r){var a=r||{},o=a.fillcolor?a.fillcolor:"#FFFFFF",i=a.textcolor?a.textcolor:"#000000",s=D.generate(e,a),c=s[n],u=Math.max(a.modulesize||5,.5),l=Math.max(a.margin?a.margin:4,0),d=u*(c+2*l),f=t.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttributeNS(null,"viewBox","0 0 "+d+" "+d),f.setAttributeNS(null,"style","shape-rendering:crispEdges");var p="qrcode"+Date.now();f.setAttributeNS(null,"id",p);var v=t.createDocumentFragment(),m=t.createElementNS("http://www.w3.org/2000/svg","style");m.appendChild(t.createTextNode("#"+p+" .bg{fill:"+o+"}#"+p+" .fg{fill:"+i+"}")),v.appendChild(m);var h=function(e,n,r,a,o){var i=t.createElementNS("http://www.w3.org/2000/svg","rect")||"";return i.setAttributeNS(null,"class",e),i.setAttributeNS(null,"fill",n),i.setAttributeNS(null,"x",r),i.setAttributeNS(null,"y",a),i.setAttributeNS(null,"width",o),i.setAttributeNS(null,"height",o),i};v.appendChild(h("bg","none",0,0,d));for(var g=l*u,b=0;b<c;++b){for(var x=l*u,w=0;w<c;++w)s[b][w]&&v.appendChild(h("fg","none",x,g,u)),x+=u;g+=u}return f.appendChild(v),f},generatePNG:function(e,r){var a,o=r||{},i=o.fillcolor||"#FFFFFF",s=o.textcolor||"#000000",c=D.generate(e,o),u=Math.max(o.modulesize||5,.5),l=Math.max(null!==o.margin&&void 0!==o.margin?o.margin:4,0),d=c[n],f=u*(d+2*l),p=t.createElement("canvas");if(p.width=p.height=f,!(a=p.getContext("2d")))throw"canvas support is needed for PNG output";a.fillStyle=i,a.fillRect(0,0,f,f),a.fillStyle=s;for(var v=0;v<d;++v)for(var m=0;m<d;++m)c[v][m]&&a.fillRect(u*(l+m),u*(l+v),u,u);return p.toDataURL()}};e.QRCode=D}("undefined"!=typeof window?window:this,document)}]);